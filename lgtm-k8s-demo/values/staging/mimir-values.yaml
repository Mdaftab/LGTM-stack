# Mimir values for DEV environment
# Chart: grafana/mimir-distributed (official)

mimir:
  structuredConfig:
    multitenancy_enabled: false
    limits:
      # Retention: 30 minutes (as requested)
      compactor_blocks_retention_period: 30m

# Minimal replicas for dev
ingester:
  replicas: 1
  persistentVolume:
    enabled: true
    size: 5Gi
  resources:
    requests:
      cpu: 100m
      memory: 256Mi
    limits:
      cpu: 500m
      memory: 512Mi

distributor:
  replicas: 1
  resources:
    requests:
      cpu: 50m
      memory: 128Mi

querier:
  replicas: 1
  resources:
    requests:
      cpu: 50m
      memory: 128Mi

query_frontend:
  replicas: 1
  resources:
    requests:
      cpu: 50m
      memory: 128Mi

store_gateway:
  replicas: 1
  persistentVolume:
    enabled: true
    size: 2Gi
  resources:
    requests:
      cpu: 50m
      memory: 128Mi

compactor:
  replicas: 1
  persistentVolume:
    enabled: true
    size: 2Gi
  resources:
    requests:
      cpu: 50m
      memory: 128Mi

# Use MinIO for object storage
minio:
  enabled: true
  replicas: 1
  persistence:
    enabled: true
    size: 5Gi
  resources:
    requests:
      cpu: 100m
      memory: 128Mi

nginx:
  replicas: 1
  resources:
    requests:
      cpu: 50m
      memory: 64Mi

# Disable unnecessary components
ruler:
  enabled: false
alertmanager:
  enabled: false
overrides_exporter:
  enabled: false

